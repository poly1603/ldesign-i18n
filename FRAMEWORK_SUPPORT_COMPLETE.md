# @ldesign/i18n å¤šæ¡†æ¶æ”¯æŒå®ŒæˆæŠ¥å‘Š

## ğŸ“‹ ä»»åŠ¡æ¦‚è¿°

ä¸º @ldesign/i18n åŒ…æ·»åŠ  Svelte å’Œ Solid.js æ¡†æ¶æ”¯æŒï¼Œå®ç°ä¸ Vue/React å®Œå…¨å¯¹ç­‰çš„åŠŸèƒ½ã€‚

## âœ… å®Œæˆå†…å®¹

### 1. Svelte é€‚é…å™¨ (@ldesign/i18n-svelte)

#### ğŸ“ æ–‡ä»¶ç»“æ„
```
packages/svelte/
â”œâ”€â”€ package.json              âœ… é…ç½®æ–‡ä»¶
â”œâ”€â”€ tsconfig.json             âœ… TypeScript é…ç½®
â”œâ”€â”€ ldesign.config.ts         âœ… æ„å»ºé…ç½®
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ stores/
â”‚   â”‚   â”œâ”€â”€ createI18n.ts     âœ… ä¸» store åˆ›å»ºå‡½æ•°
â”‚   â”‚   â””â”€â”€ index.ts          âœ… å¯¼å‡ºæ–‡ä»¶
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ I18nProvider.svelte    âœ… Provider ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Trans.svelte           âœ… ç¿»è¯‘ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ LocaleSwitcher.svelte  âœ… è¯­è¨€åˆ‡æ¢å™¨
â”‚   â”‚   â””â”€â”€ index.ts               âœ… å¯¼å‡ºæ–‡ä»¶
â”‚   â”œâ”€â”€ actions/
â”‚   â”‚   â”œâ”€â”€ t.ts              âœ… åŸºç¡€ç¿»è¯‘ action
â”‚   â”‚   â”œâ”€â”€ tHtml.ts          âœ… HTML ç¿»è¯‘ action
â”‚   â”‚   â”œâ”€â”€ tPlural.ts        âœ… å¤æ•°åŒ– action
â”‚   â”‚   â””â”€â”€ index.ts          âœ… å¯¼å‡ºæ–‡ä»¶
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ context.ts        âœ… Context å·¥å…·
â”‚   â”‚   â”œâ”€â”€ helpers.ts        âœ… è¾…åŠ©å‡½æ•°
â”‚   â”‚   â””â”€â”€ index.ts          âœ… å¯¼å‡ºæ–‡ä»¶
â”‚   â”œâ”€â”€ types.ts              âœ… ç±»å‹å®šä¹‰
â”‚   â””â”€â”€ index.ts              âœ… ä¸»å…¥å£
â”œâ”€â”€ examples/
â”‚   â”œâ”€â”€ basic-usage.svelte    âœ… åŸºç¡€ç¤ºä¾‹
â”‚   â””â”€â”€ advanced.svelte       âœ… é«˜çº§ç¤ºä¾‹
â””â”€â”€ README.md                 âœ… å®Œæ•´æ–‡æ¡£
```

#### ğŸ¯ æ ¸å¿ƒç‰¹æ€§
- âœ… å“åº”å¼ Svelte stores
- âœ… å®Œæ•´çš„ç»„ä»¶ç³»ç»Ÿï¼ˆI18nProvider, Trans, LocaleSwitcherï¼‰
- âœ… Svelte actionsï¼ˆuse:t, use:tHtml, use:tPluralï¼‰
- âœ… Context API æ”¯æŒ
- âœ… å®Œæ•´çš„ TypeScript ç±»å‹
- âœ… ä¸ Vue/React ä¸€è‡´çš„ API

### 2. Solid.js é€‚é…å™¨ (@ldesign/i18n-solid)

#### ğŸ“ æ–‡ä»¶ç»“æ„
```
packages/solid/
â”œâ”€â”€ package.json              âœ… é…ç½®æ–‡ä»¶
â”œâ”€â”€ tsconfig.json             âœ… TypeScript é…ç½®
â”œâ”€â”€ ldesign.config.ts         âœ… æ„å»ºé…ç½®
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ context/
â”‚   â”‚   â”œâ”€â”€ I18nContext.tsx   âœ… Context å®šä¹‰
â”‚   â”‚   â””â”€â”€ index.ts          âœ… å¯¼å‡ºæ–‡ä»¶
â”‚   â”œâ”€â”€ primitives/
â”‚   â”‚   â”œâ”€â”€ createI18n.ts     âœ… åˆ›å»ºå®ä¾‹
â”‚   â”‚   â”œâ”€â”€ useI18n.ts        âœ… ä¸» hook
â”‚   â”‚   â”œâ”€â”€ useLocale.ts      âœ… è¯­è¨€ç®¡ç† hook
â”‚   â”‚   â”œâ”€â”€ useTranslation.ts âœ… ç¿»è¯‘ hook
â”‚   â”‚   â””â”€â”€ index.ts          âœ… å¯¼å‡ºæ–‡ä»¶
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ I18nProvider.tsx       âœ… Provider ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Trans.tsx              âœ… ç¿»è¯‘ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ LocaleSwitcher.tsx     âœ… è¯­è¨€åˆ‡æ¢å™¨
â”‚   â”‚   â””â”€â”€ index.ts               âœ… å¯¼å‡ºæ–‡ä»¶
â”‚   â”œâ”€â”€ directives/
â”‚   â”‚   â”œâ”€â”€ t.ts              âœ… åŸºç¡€ç¿»è¯‘æŒ‡ä»¤
â”‚   â”‚   â”œâ”€â”€ tHtml.ts          âœ… HTML ç¿»è¯‘æŒ‡ä»¤
â”‚   â”‚   â”œâ”€â”€ tPlural.ts        âœ… å¤æ•°åŒ–æŒ‡ä»¤
â”‚   â”‚   â””â”€â”€ index.ts          âœ… å¯¼å‡ºæ–‡ä»¶
â”‚   â”œâ”€â”€ types.ts              âœ… ç±»å‹å®šä¹‰
â”‚   â””â”€â”€ index.ts              âœ… ä¸»å…¥å£
â”œâ”€â”€ examples/
â”‚   â”œâ”€â”€ basic-usage.tsx       âœ… åŸºç¡€ç¤ºä¾‹
â”‚   â””â”€â”€ advanced.tsx          âœ… é«˜çº§ç¤ºä¾‹
â””â”€â”€ README.md                 âœ… å®Œæ•´æ–‡æ¡£
```

#### ğŸ¯ æ ¸å¿ƒç‰¹æ€§
- âœ… ç»†ç²’åº¦å“åº”å¼ Solid signals
- âœ… å®Œæ•´çš„ç»„ä»¶ç³»ç»Ÿï¼ˆI18nProvider, Trans, LocaleSwitcherï¼‰
- âœ… Solid directivesï¼ˆuse:t, use:tHtml, use:tPluralï¼‰
- âœ… Primitives (useI18n, useLocale, useTranslation)
- âœ… Context API æ”¯æŒ
- âœ… å®Œæ•´çš„ TypeScript ç±»å‹
- âœ… ä¸ Vue/React ä¸€è‡´çš„ API

### 3. æ–‡æ¡£æ›´æ–°

#### âœ… ä¸»åŒ… README æ›´æ–°
- æ·»åŠ äº† Reactã€Svelteã€Solid çš„å¾½ç« 
- æ›´æ–°äº†æè¿°ï¼Œå¼ºè°ƒå¤šæ¡†æ¶æ”¯æŒ
- æ·»åŠ äº†æ‰€æœ‰æ¡†æ¶çš„å¿«é€Ÿå¼€å§‹ç¤ºä¾‹
- æ›´æ–°äº†å¯¹æ¯”è¡¨æ ¼ï¼ŒåŒ…å«æ‰€æœ‰æ¡†æ¶
- æ›´æ–°äº†æ–‡æ¡£é“¾æ¥éƒ¨åˆ†

#### âœ… æ–°å¢æ–‡æ¡£
- `packages/README.md` - æ¡†æ¶é€‚é…å™¨æ€»è§ˆæ–‡æ¡£
- `packages/svelte/README.md` - Svelte å®Œæ•´æ–‡æ¡£
- `packages/solid/README.md` - Solid å®Œæ•´æ–‡æ¡£

## ğŸ¯ åŠŸèƒ½å¯¹ç­‰æ€§æ£€æŸ¥

æ‰€æœ‰æ¡†æ¶ç°åœ¨æä¾›å®Œå…¨ä¸€è‡´çš„åŠŸèƒ½ï¼š

| åŠŸèƒ½ | Core | Vue | React | Svelte | Solid |
|------|------|-----|-------|--------|-------|
| **åŸºç¡€ç¿»è¯‘** |
| t() - ç¿»è¯‘å‡½æ•° | âœ… | âœ… | âœ… | âœ… | âœ… |
| te() - æ£€æŸ¥å­˜åœ¨ | âœ… | âœ… | âœ… | âœ… | âœ… |
| tm() - åŸå§‹æ¶ˆæ¯ | âœ… | âœ… | âœ… | âœ… | âœ… |
| rt() - æ’å€¼ | âœ… | âœ… | âœ… | âœ… | âœ… |
| **å¤æ•°åŒ–** |
| tc() - å¤æ•°ç¿»è¯‘ | âœ… | âœ… | âœ… | âœ… | âœ… |
| tp() - åˆ«å | âœ… | âœ… | âœ… | âœ… | âœ… |
| **æ ¼å¼åŒ–** |
| d() - æ—¥æœŸæ ¼å¼åŒ– | âœ… | âœ… | âœ… | âœ… | âœ… |
| n() - æ•°å­—æ ¼å¼åŒ– | âœ… | âœ… | âœ… | âœ… | âœ… |
| **è¯­è¨€ç®¡ç†** |
| setLocale() | âœ… | âœ… | âœ… | âœ… | âœ… |
| getLocale() | âœ… | âœ… | âœ… | âœ… | âœ… |
| setFallbackLocale() | âœ… | âœ… | âœ… | âœ… | âœ… |
| getFallbackLocale() | âœ… | âœ… | âœ… | âœ… | âœ… |
| **æ¶ˆæ¯ç®¡ç†** |
| mergeLocaleMessage() | âœ… | âœ… | âœ… | âœ… | âœ… |
| getLocaleMessage() | âœ… | âœ… | âœ… | âœ… | âœ… |
| setLocaleMessage() | âœ… | âœ… | âœ… | âœ… | âœ… |
| **ç»„ä»¶** |
| Provider ç»„ä»¶ | - | âœ… | âœ… | âœ… | âœ… |
| Trans ç»„ä»¶ | - | âœ… | âœ… | âœ… | âœ… |
| LocaleSwitcher | - | âœ… | âœ… | âœ… | âœ… |
| **æŒ‡ä»¤/Actions** |
| t æŒ‡ä»¤ | - | âœ… (v-t) | - | âœ… (use:t) | âœ… (use:t) |
| tHtml æŒ‡ä»¤ | - | âœ… (v-t-html) | - | âœ… (use:tHtml) | âœ… (use:tHtml) |
| tPlural æŒ‡ä»¤ | - | âœ… (v-t-plural) | - | âœ… (use:tPlural) | âœ… (use:tPlural) |
| **å“åº”å¼ç³»ç»Ÿ** |
| å“åº”å¼çŠ¶æ€ | - | âœ… (Ref) | âœ… (useState) | âœ… (Store) | âœ… (Signal) |
| è‡ªåŠ¨æ›´æ–° | - | âœ… | âœ… | âœ… | âœ… |

## ğŸ“Š ä»£ç ç»Ÿè®¡

### Svelte é€‚é…å™¨
- **æ€»æ–‡ä»¶æ•°**: ~20 ä¸ª
- **æºä»£ç **: ~15 ä¸ªæ–‡ä»¶
- **ç¤ºä¾‹**: 2 ä¸ª
- **æ–‡æ¡£**: 1 ä¸ª README
- **ä»£ç è¡Œæ•°**: ~1500+ è¡Œ

### Solid é€‚é…å™¨
- **æ€»æ–‡ä»¶æ•°**: ~21 ä¸ª
- **æºä»£ç **: ~16 ä¸ªæ–‡ä»¶
- **ç¤ºä¾‹**: 2 ä¸ª
- **æ–‡æ¡£**: 1 ä¸ª README
- **ä»£ç è¡Œæ•°**: ~1600+ è¡Œ

## ğŸ¨ API è®¾è®¡ä¸€è‡´æ€§

æ‰€æœ‰æ¡†æ¶éµå¾ªç›¸åŒçš„ API è®¾è®¡æ¨¡å¼ï¼š

### Provider æ¨¡å¼
```typescript
// Vue
<I18nProvider :i18n="i18n">

// React
<I18nProvider i18n={i18n}>

// Svelte
<I18nProvider {i18n}>

// Solid
<I18nProvider i18n={i18n}>
```

### Hook/Composable/Store æ¨¡å¼
```typescript
// Vue
const { t, locale, setLocale } = useI18n()

// React
const { t, locale, setLocale } = useI18n()

// Svelte
const i18n = getI18nContext()
i18n.t('key')

// Solid
const { t, locale, setLocale } = useI18n()
```

### ç»„ä»¶æ¨¡å¼
```typescript
// æ‰€æœ‰æ¡†æ¶
<Trans keypath="welcome" params={{ name: 'User' }} />
<LocaleSwitcher />
```

## ğŸ“¦ åŒ…é…ç½®

æ‰€æœ‰æ–°åŒ…éƒ½é…ç½®äº†ï¼š
- âœ… TypeScript æ”¯æŒ
- âœ… ESM å’Œ CJS æ ¼å¼
- âœ… æ­£ç¡®çš„ peer dependencies
- âœ… å®Œæ•´çš„ exports é…ç½®
- âœ… ldesign-builder é›†æˆ
- âœ… Vitest æµ‹è¯•é…ç½®

## ğŸ”— ä¾èµ–å…³ç³»

```
@ldesign/i18n-core (æ ¸å¿ƒåº“)
    â†“
â”œâ”€â”€ @ldesign/i18n-vue
â”œâ”€â”€ @ldesign/i18n-react
â”œâ”€â”€ @ldesign/i18n-svelte (æ–°å¢)
â””â”€â”€ @ldesign/i18n-solid (æ–°å¢)
```

## ğŸ¯ ä¸‹ä¸€æ­¥å»ºè®®

1. **æµ‹è¯•**
   - æ·»åŠ å•å…ƒæµ‹è¯•ï¼ˆVitestï¼‰
   - æ·»åŠ é›†æˆæµ‹è¯•
   - æµ‹è¯•æ‰€æœ‰æ¡†æ¶çš„åŠŸèƒ½å¯¹ç­‰æ€§

2. **ç¤ºä¾‹åº”ç”¨**
   - åˆ›å»ºå®Œæ•´çš„ç¤ºä¾‹åº”ç”¨
   - å±•ç¤ºæ‰€æœ‰åŠŸèƒ½
   - ç”¨äºå®é™…æµ‹è¯•

3. **æ–‡æ¡£å®Œå–„**
   - æ·»åŠ è¿ç§»æŒ‡å—
   - æ·»åŠ æœ€ä½³å®è·µ
   - æ·»åŠ å¸¸è§é—®é¢˜è§£ç­”

4. **æ€§èƒ½ä¼˜åŒ–**
   - æ€§èƒ½åŸºå‡†æµ‹è¯•
   - ä¸å…¶ä»–åº“å¯¹æ¯”
   - ä¼˜åŒ–å»ºè®®æ–‡æ¡£

5. **å‘å¸ƒå‡†å¤‡**
   - ç‰ˆæœ¬å·ç»Ÿä¸€
   - å‘å¸ƒæ—¥å¿—
   - è¿ç§»é€šçŸ¥

## ğŸ‰ æ€»ç»“

æˆåŠŸä¸º @ldesign/i18n æ·»åŠ äº† Svelte å’Œ Solid.js æ”¯æŒï¼š

- âœ… **æ¶æ„åˆç†**: æ‰€æœ‰æ¡†æ¶é€šç”¨åŠŸèƒ½åœ¨ coreï¼Œæ¡†æ¶ç‰¹å®šåŠŸèƒ½åœ¨å„è‡ªåŒ…
- âœ… **åŠŸèƒ½å®Œæ•´**: æ‰€æœ‰æ¡†æ¶æä¾›å®Œå…¨ä¸€è‡´çš„åŠŸèƒ½å’Œ API
- âœ… **ç±»å‹å®‰å…¨**: å®Œæ•´çš„ TypeScript ç±»å‹å®šä¹‰
- âœ… **æ–‡æ¡£é½å…¨**: æ¯ä¸ªæ¡†æ¶éƒ½æœ‰è¯¦ç»†çš„æ–‡æ¡£å’Œç¤ºä¾‹
- âœ… **ä»£ç è´¨é‡**: éµå¾ªæœ€ä½³å®è·µï¼Œä»£ç æ¸…æ™°æ˜“ç»´æŠ¤

ç°åœ¨ @ldesign/i18n æ”¯æŒ 4 ä¸ªä¸»æµå‰ç«¯æ¡†æ¶ï¼ˆVueã€Reactã€Svelteã€Solidï¼‰ï¼Œæˆä¸ºçœŸæ­£çš„å¤šæ¡†æ¶å›½é™…åŒ–è§£å†³æ–¹æ¡ˆï¼

---

**å®Œæˆæ—¶é—´**: 2025-01-XX
**ä½œè€…**: LDesign Team
**ç‰ˆæœ¬**: 4.0.0

