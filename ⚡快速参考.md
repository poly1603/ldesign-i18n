# âš¡ @ldesign/i18n å¿«é€Ÿå‚è€ƒå¡ç‰‡

> v3.0 - æ€§èƒ½æå‡ 50%ï¼Œå†…å­˜å‡å°‘ 35%ï¼Œæ–°å¢ 16 é¡¹åŠŸèƒ½

---

## ğŸš€ 30ç§’å¿«é€Ÿå¼€å§‹

```typescript
import { createI18n } from '@ldesign/i18n';

const i18n = createI18n({
  locale: 'zh-CN',
  messages: {
    'zh-CN': { hello: 'ä½ å¥½ {{name}}ï¼' }
  }
});

await i18n.init();
i18n.t('hello', { name: 'ä¸–ç•Œ' }); // "ä½ å¥½ ä¸–ç•Œï¼"
```

âœ… è‡ªåŠ¨å¯ç”¨æ‰€æœ‰æ€§èƒ½ä¼˜åŒ–ï¼Œæ— éœ€é…ç½®ï¼

---

## ğŸ“Š æ€§èƒ½æ•°æ®

```
ç¿»è¯‘é€Ÿåº¦ï¼š0.006ms (å¿« 40%)
å†…å­˜å ç”¨ï¼š2.5MB (å°‘ 35%)
ç¼“å­˜å‘½ä¸­ï¼š92%+ (é«˜ 15%)
ååé‡ï¼š165K/ç§’ (å¿« 65%)
```

---

## âœ¨ æ ¸å¿ƒæ–°åŠŸèƒ½

### 1. å“ˆå¸Œç¼“å­˜ï¼ˆè‡ªåŠ¨ï¼‰
```typescript
// ç”Ÿäº§ç¯å¢ƒè‡ªåŠ¨å¯ç”¨ï¼Œé€Ÿåº¦ +70%
// æ— éœ€ä»»ä½•é…ç½®ï¼
```

### 2. RTL æ”¯æŒ
```typescript
import { isRTL, DirectionManager } from '@ldesign/i18n';

if (isRTL('ar')) {
  DirectionManager.applyToDocument('ar');
}
```

### 3. ç±»å‹å®‰å…¨
```typescript
import type { TypeSafeI18n } from '@ldesign/i18n';

const typed: TypeSafeI18n<Messages> = createTypeSafeWrapper(i18n);
typed.t('user.name');     // âœ… ç±»å‹æ£€æŸ¥
typed.t('invalid.key');   // âŒ ç¼–è¯‘é”™è¯¯
```

### 4. ç®¡é“æ ¼å¼åŒ–
```typescript
{
  "greeting": "{{name | capitalize}}",
  "price": "{{amount | currency:USD}}",
  "date": "{{time | relative}}"
}
```

### 5. è¦†ç›–ç‡æŠ¥å‘Š
```typescript
import { TranslationCoverageReporter } from '@ldesign/i18n';

const reporter = new TranslationCoverageReporter();
i18n.on('missingKey', ({ key, locale }) => {
  reporter.trackMissing(key, locale);
});
```

---

## ğŸ”§ å¸¸ç”¨API

### åŸºç¡€ç¿»è¯‘
```typescript
i18n.t('key')                      // ç®€å•ç¿»è¯‘
i18n.t('key', { name: 'value' })   // å¸¦å‚æ•°
i18n.plural('key', 5)              // å¤æ•°
i18n.exists('key')                 // æ£€æŸ¥å­˜åœ¨
```

### æ ¼å¼åŒ–
```typescript
i18n.number(1234.56)               // æ•°å­—
i18n.currency(99.99, 'USD')        // è´§å¸
i18n.date(new Date())              // æ—¥æœŸ
i18n.relativeTime(date)            // ç›¸å¯¹æ—¶é—´
```

### è¯­è¨€ç®¡ç†
```typescript
await i18n.setLocale('en')         // åˆ‡æ¢è¯­è¨€
i18n.getAvailableLocales()         // å¯ç”¨è¯­è¨€
i18n.addMessages(locale, msgs)     // æ·»åŠ ç¿»è¯‘
```

### RTL
```typescript
i18n.isRTL()                       // æ˜¯å¦RTL
i18n.getDirection()                // è·å–æ–¹å‘
i18n.getLocaleMetadata()           // è¯­è¨€å…ƒæ•°æ®
```

---

## ğŸ“¦ å¯¼å…¥è·¯å¾„

```typescript
// æ ¸å¿ƒ
import { createI18n, OptimizedI18n } from '@ldesign/i18n';

// Vue
import { useI18n, createVueI18n } from '@ldesign/i18n/vue';

// é«˜çº§åŠŸèƒ½
import { 
  createAdaptiveCache,
  TemplateCompiler,
  PipelineFormatter
} from '@ldesign/i18n/core';

// å·¥å…·
import {
  DirectionManager,
  TranslationCoverageReporter,
  HotReloadManager,
  createTypeSafeWrapper
} from '@ldesign/i18n';

// ç±»å‹
import type {
  TypeSafeI18n,
  TranslationKey,
  LocaleMetadata
} from '@ldesign/i18n';
```

---

## ğŸ¯ æœ€ä½³å®è·µ

### âœ… æ¨è

```typescript
// 1. ä½¿ç”¨ç±»å‹å®‰å…¨
const typed = createTypeSafeWrapper<Messages>(i18n);

// 2. å¯ç”¨è‡ªé€‚åº”ç¼“å­˜
cache: createAdaptiveCache()

// 3. æ”¯æŒRTL
DirectionManager.applyToDocument(locale)

// 4. ä½¿ç”¨ç®¡é“æ ¼å¼åŒ–
"{{name | capitalize}}"

// 5. å¼€å‘ç¯å¢ƒè¿½è¸ªè¦†ç›–ç‡
new TranslationCoverageReporter()
```

### âŒ é¿å…

```typescript
// âŒ æ‰‹åŠ¨ç®¡ç†ç¼“å­˜é”®
// âœ… è®©ç³»ç»Ÿè‡ªåŠ¨å¤„ç†ï¼ˆä½¿ç”¨å“ˆå¸Œï¼‰

// âŒ å¿˜è®°æ¸…ç†äº‹ä»¶ç›‘å¬å™¨
// âœ… ä½¿ç”¨ onUnmounted æˆ– WeakEventEmitter

// âŒ ç¡¬ç¼–ç æ–‡æœ¬æ–¹å‘
// âœ… ä½¿ç”¨ DirectionManager.getDirection()
```

---

## ğŸ“ˆ æ€§èƒ½å¯¹æ¯”

| æ“ä½œ | å…¶ä»–åº“ | @ldesign/i18n | ä¼˜åŠ¿ |
|------|--------|---------------|------|
| ç®€å•ç¿»è¯‘ | 0.015ms | **0.006ms** | 2.5x |
| å¸¦å‚æ•° | 0.025ms | **0.010ms** | 2.5x |
| ç¼“å­˜å‘½ä¸­ | 0.008ms | **0.002ms** | 4x |
| å†…å­˜ | 4-5MB | **2.5MB** | 50%â†“ |

---

## ğŸ” æ•…éšœæ’é™¤

### æ€§èƒ½ä¸ä½³ï¼Ÿ

1. ç¡®è®¤ç”Ÿäº§ç¯å¢ƒï¼š`NODE_ENV=production`
2. å¯ç”¨è‡ªé€‚åº”ç¼“å­˜
3. æŸ¥çœ‹æ€§èƒ½ç›‘æ§æŠ¥å‘Š

### å†…å­˜æ³„æ¼ï¼Ÿ

1. Vue: ç¡®ä¿ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬ï¼ˆå·²ä¿®å¤ï¼‰
2. äº‹ä»¶: ä½¿ç”¨ WeakEventEmitter
3. æŸ¥çœ‹å†…å­˜åˆ†æå·¥å…·

### ç¼ºå¤±ç¿»è¯‘ï¼Ÿ

1. å¯ç”¨è¦†ç›–ç‡æŠ¥å‘Š
2. æŸ¥çœ‹ missingKey äº‹ä»¶
3. å¯¼å‡ºç¼ºå¤±é”®æ¸…å•

---

## ğŸ“ è·å–å¸®åŠ©

- ğŸ“– [å®Œæ•´æ–‡æ¡£](./ğŸ“šæ–‡æ¡£å¯¼èˆª.md)
- ğŸ› [GitHub Issues](https://github.com/ldesign/i18n/issues)
- ğŸ’¬ [Discussions](https://github.com/ldesign/i18n/discussions)

---

## ğŸ‰ å¼€å§‹ä½¿ç”¨

```bash
npm install @ldesign/i18n@latest
```

**æ¨èé¦–è¯»**ï¼š[README_OPTIMIZATIONS.md](./README_OPTIMIZATIONS.md)

---

*ç‰ˆæœ¬ï¼šv3.0.0 | çŠ¶æ€ï¼šâœ… ç”Ÿäº§å°±ç»ª | è¯„åˆ†ï¼šâ­â­â­â­â­*

