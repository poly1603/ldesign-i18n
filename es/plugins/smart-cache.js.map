{"version":3,"file":"smart-cache.js","sources":["../../src/plugins/smart-cache.ts"],"sourcesContent":[null],"names":["LRUCache","constructor","maxSize","maxItems","Object","defineProperty","value","Map","hits","misses","evictions","size","items","hitRate","avgAccessTime","predictions","successful","failed","accuracy","get","key","entry","cache","stats","updateStats","undefined","ttl","Date","now","timestamp","delete","set","lastAccess","options","calculateSize","has","oldEntry","currentSize","evictLRU","priority","tags","clear","getStats","victimKey","keys","next","calculateEvictionScore","age","recency","frequency","str","JSON","stringify","length","total","SmartCache","EventEmitter","Set","layerConfig","name","compression","prediction","enabled","threshold","lookAhead","patterns","initializeLayers","startPredictionEngine","config","layers","loader","startTime","layerName","promote","recordAccess","predictAndPrefetch","emit","layer","time","hotCache","invalidate","pattern","invalidated","getMatchingKeys","toString","count","invalidateByTag","tag","fromLayer","sourceCache","from","to","demote","toLayer","source","target","accessPatterns","push","slice","maxAccessPatterns","keysToDelete","Array","Math","floor","forEach","k","prefetchQueue","maxPrefetchQueue","analyzePatterns","predictedKey","add","setTimeout","prefetch","currentKey","match","base","num","Number","parseInt","i","optimizeInterval","setInterval","optimizeCache","overall","action","reason","layerStats","totalHits","totalMisses","totalEvictions","totalSize","totalItems","compress","data","json","encoder","TextEncoder","encoded","encode","buffer","decompress","decoder","TextDecoder","decode","parse","configurePrediction","warmUp","promises","map","Promise","all","subscribe","callback","listener","event","on","off","handleMemoryPressure","level","destroy","clearInterval","compressionCache","removeAllListeners","smartCache"],"mappings":"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"}