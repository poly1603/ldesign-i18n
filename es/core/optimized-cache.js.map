{"version":3,"file":"optimized-cache.js","sources":["../../src/core/optimized-cache.ts"],"sourcesContent":[null],"names":["LRUNode","constructor","Object","defineProperty","reset","key","value","expires","prev","next","NodePool","get","pool","pop","release","node","length","maxSize","push","OptimizedLRUCache","defaultTTL","Map","setInterval","cleanupTimer","cleanupExpired","CLEANUP_INTERVAL","unref","cache","undefined","Date","now","delete","moveToHead","set","ttl","effectiveTTL","size","tail","oldNode","removeNode","nodePool","addToHead","has","clear","forEach","head","maxCleanup","Math","min","ceil","cleaned","destroy","clearInterval","OptimizedWeakCache","WeakMap","item","existing","timer","clearTimeout","timerCount","maxTimers","setTimeout","OptimizedStorageCache","storage","window","localStorage","prefix","loadExistingCache","i","startsWith","getItem","parsed","JSON","parse","actualKey","substring","memoryCache","cached","pendingWrites","scheduleWrite","writeTimer","flushWrites","writeDelay","doWrite","evictOldest","stringify","timestamp","setItem","error","console","warn","requestIdleCallback","removeItem","keysToRemove","count","oldestKey","oldestTime","Infinity","createOptimizedCache","options","type","sessionStorage"],"mappings":"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"}