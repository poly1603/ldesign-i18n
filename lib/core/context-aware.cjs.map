{"version":3,"file":"context-aware.cjs","sources":["../../src/core/context-aware.ts"],"sourcesContent":[null],"names":["ContextAwareTranslator","constructor","initialContext","Object","defineProperty","value","Map","setContext","initializeDefaultRules","detectContext","context","currentContext","contextHistory","push","length","MAX_HISTORY_SIZE","shift","cache","size","MAX_CACHE_SIZE","halfSize","Math","floor","keysToDelete","Array","from","keys","slice","forEach","key","delete","getContext","deviceType","detectDeviceType","platform","detectPlatform","screenSize","detectScreenSize","timezone","Intl","DateTimeFormat","resolvedOptions","timeZone","timeOfDay","detectTimeOfDay","season","detectSeason","environment","detectEnvironment","accessibility","detectAccessibility","registerVariant","variant","variants","has","set","get","existingIndex","findIndex","v","id","sort","a","b","priority","registerRule","rule","rules","getBestVariant","fallback","cacheKey","getCacheKey","scoredVariants","map","score","calculateVariantScore","selected","applyABTesting","recordPerformance","conditions","condition","evaluateCondition","weight","calculateContextMatch","performance","performanceData","successRate","min","usageCount","metadata","rating","usage","log10","variantContext","matchScore","totalFields","entries","isPartialMatch","contextValue","getNestedValue","field","operator","String","includes","Number","isArray","RegExp","test","topVariants","totalScore","reduce","sum","random","accumulated","variantId","MAX_PERFORMANCE_DATA","oldestKey","lastUsed","getTime","successCount","avgResponseTime","Date","translateBatch","fallbacks","results","getAllMatchingVariants","filter","item","exportConfiguration","importConfiguration","config","clear","k","arr","r","destroy","userAgent","navigator","toLowerCase","width","window","innerWidth","hour","getHours","month","getMonth","hostname","location","screenReader","isScreenReaderActive","highContrast","isHighContrastMode","reducedMotion","isPrefersReducedMotion","fontSize","detectFontSize","document","body","getAttribute","matchMedia","matches","parseFloat","getComputedStyle","contextKey","userRole","formality","Boolean","join","obj","path","split","current","undefined","value1","value2","name","description","enabled","contextAwareTranslatorInstance","createContextAwareTranslator","clearContextAwareTranslator"],"mappings":"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"}