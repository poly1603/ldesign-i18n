# @ldesign/i18n é¡¹ç›®çŠ¶æ€

## âœ… å·²å®Œæˆ

### 1. é¡¹ç›®æ¶æ„è®¾è®¡

- âœ… åˆ›å»º monorepo ç»“æ„
- âœ… è®¾è®¡æ ¸å¿ƒåŒ…å’Œæ¡†æ¶é€‚é…åŒ…æ¶æ„
- âœ… å»ºç«‹ç»Ÿä¸€çš„é…ç½®å’Œæ„å»ºç³»ç»Ÿ

### 2. æ ¸å¿ƒåŒ… (@ldesign/i18n-core)

- âœ… æ ¸å¿ƒä»£ç å·²å­˜åœ¨ä¸”åŠŸèƒ½å®Œæ•´
  - I18n å¼•æ“
  - ç¼“å­˜ç³»ç»Ÿ (LRU, å¤šå±‚ç¼“å­˜, è‡ªé€‚åº”ç¼“å­˜)
  - æ’å€¼å¼•æ“
  - å¤æ•°è§„åˆ™
  - æ€§èƒ½ç›‘æ§
  - æ’ä»¶ç³»ç»Ÿ
- âœ… TypeScript ç±»å‹å®šä¹‰å®Œæ•´
- âœ… ESLint é…ç½®å·²æ·»åŠ 
- âœ… æ„å»ºé…ç½® (@ldesign/builder)
- âœ… åŸºç¡€æµ‹è¯•æ–‡ä»¶å·²åˆ›å»º

### 3. æ¡†æ¶é€‚é…åŒ…

å·²åˆ›å»ºä»¥ä¸‹ 15 ä¸ªæ¡†æ¶é€‚é…åŒ…:

- âœ… @ldesign/i18n-alpinejs (Alpine.js)
- âœ… @ldesign/i18n-angular (Angular)
- âœ… @ldesign/i18n-astro (Astro)
- âœ… @ldesign/i18n-lit (Lit)
- âœ… @ldesign/i18n-nextjs (Next.js)
- âœ… @ldesign/i18n-nuxtjs (Nuxt.js)
- âœ… @ldesign/i18n-preact (Preact)
- âœ… @ldesign/i18n-qwik (Qwik)
- âœ… @ldesign/i18n-react (React)
- âœ… @ldesign/i18n-remix (Remix)
- âœ… @ldesign/i18n-solid (Solid)
- âœ… @ldesign/i18n-svelte (Svelte)
- âœ… @ldesign/i18n-sveltekit (SvelteKit)
- âœ… @ldesign/i18n-vue (Vue 3)

æ¯ä¸ªåŒ…å·²åŒ…å«:
- âœ… package.json é…ç½®
- âœ… tsconfig.json é…ç½®
- âœ… eslint.config.js é…ç½®
- âœ… vitest.config.ts é…ç½®
- âœ… README.md æ–‡æ¡£
- âœ… src/ æºä»£ç ç›®å½•ç»“æ„
- âœ… åŸºç¡€å¯¼å‡ºæ–‡ä»¶

### 4. æ„å»ºç³»ç»Ÿ

- âœ… ç»Ÿä¸€ä½¿ç”¨ @ldesign/builder
- âœ… æ”¯æŒ ESM, CommonJS, UMD æ ¼å¼
- âœ… TypeScript ç±»å‹å®šä¹‰ç”Ÿæˆ
- âœ… Tree-shaking æ”¯æŒ

### 5. å·¥å…·å’Œè„šæœ¬

- âœ… `scripts/create-framework-packages.ts` - æ‰¹é‡åˆ›å»ºæ¡†æ¶åŒ…
- âœ… `scripts/build-all-packages.ts` - æ‰¹é‡æ„å»ºæ‰€æœ‰åŒ…
- âœ… `scripts/lint-all-packages.ts` - æ‰¹é‡ lint æ£€æŸ¥
- âœ… `scripts/fix-eslint-configs.ts` - ä¿®å¤ ESLint é…ç½®
- âœ… `vitest.base.config.ts` - ç»Ÿä¸€æµ‹è¯•é…ç½®

### 6. æ–‡æ¡£

- âœ… ARCHITECTURE.md - æ¶æ„æ–‡æ¡£
- âœ… PROJECT_STATUS.md - é¡¹ç›®çŠ¶æ€(æœ¬æ–‡æ¡£)
- âœ… æ¯ä¸ªåŒ…çš„ README.md

## ğŸš§ è¿›è¡Œä¸­/å¾…å®Œæˆ

### 1. ESLint é—®é¢˜

**çŠ¶æ€**: éœ€è¦è§£å†³

**é—®é¢˜**: 
- ESLint æ’ä»¶ (eslint-plugin-unicorn) ä¸ ESLint 9.18.0 æœ‰å…¼å®¹æ€§é—®é¢˜
- é”™è¯¯: `context.sourceCode.isGlobalReference is not a function`

**è§£å†³æ–¹æ¡ˆ**:
- é€‰é¡¹ 1: é™çº§ ESLint åˆ° v8
- é€‰é¡¹ 2: å‡çº§ @antfu/eslint-config åˆ°å…¼å®¹ç‰ˆæœ¬
- é€‰é¡¹ 3: æš‚æ—¶ç¦ç”¨æœ‰é—®é¢˜çš„è§„åˆ™

### 2. ä¾èµ–å®‰è£…è­¦å‘Š

**çŠ¶æ€**: å¯æ¥å—ä½†éœ€æ³¨æ„

**è­¦å‘Š**:
- builder å’Œ launcher å·¥å…·çš„è·¯å¾„é—®é¢˜ (D:\tools\builder, D:\tools\launcher)
- å¤šä¸ªå·²å¼ƒç”¨çš„åŒ…
- å¤§é‡ peer dependency å†²çª

**å½±å“**: 
- ä¸å½±å“åŸºæœ¬åŠŸèƒ½,ä½†éœ€è¦åœ¨åç»­æ¸…ç†

### 3. æ¡†æ¶é€‚é…åŒ…å®ç°

**çŠ¶æ€**: åŸºç¡€ç»“æ„å®Œæˆ,å…·ä½“å®ç°å¾…å®Œæˆ

æ¯ä¸ªæ¡†æ¶åŒ…éœ€è¦:
- â³ å®ç°æ¡†æ¶ç‰¹å®šçš„é›†æˆä»£ç 
- â³ Hooks/Composables/Directives å®ç°
- â³ ç»„ä»¶å°è£…
- â³ SSR æ”¯æŒ (å¦‚é€‚ç”¨)
- â³ å®Œæ•´çš„ç±»å‹å®šä¹‰

### 4. æµ‹è¯•

**çŠ¶æ€**: åŸºç¡€é…ç½®å®Œæˆ,æµ‹è¯•ç”¨ä¾‹å¾…ç¼–å†™

éœ€è¦å®Œæˆ:
- â³ æ ¸å¿ƒåŒ…å•å…ƒæµ‹è¯• (è¦†ç›–ç‡ 80%+)
- â³ æ¡†æ¶é€‚é…åŒ…å•å…ƒæµ‹è¯•
- â³ E2E æµ‹è¯• (ä½¿ç”¨ Playwright)
- â³ æ€§èƒ½æµ‹è¯•å’Œ Benchmark

### 5. ç¤ºä¾‹é¡¹ç›®

**çŠ¶æ€**: æœªå¼€å§‹

éœ€è¦ä¸ºæ¯ä¸ªæ¡†æ¶åˆ›å»º:
- â³ åŸºäº @ldesign/launcher çš„ç¤ºä¾‹é¡¹ç›®
- â³ å±•ç¤ºæ‰€æœ‰åŠŸèƒ½çš„å®Œæ•´ç¤ºä¾‹
- â³ æ–‡æ¡£å’Œä½¿ç”¨è¯´æ˜

### 6. æ„å»ºéªŒè¯

**çŠ¶æ€**: æœªå¼€å§‹

éœ€è¦:
- â³ éªŒè¯æ‰€æœ‰åŒ…èƒ½æˆåŠŸæ„å»º
- â³ éªŒè¯äº§ç‰©æ ¼å¼æ­£ç¡® (ESM, CJS, UMD)
- â³ éªŒè¯ç±»å‹å®šä¹‰å®Œæ•´æ— é”™è¯¯
- â³ éªŒè¯åŒ…å¤§å°åœ¨åˆç†èŒƒå›´å†…

### 7. æ€§èƒ½ä¼˜åŒ–

**çŠ¶æ€**: æ ¸å¿ƒä»£ç å·²ä¼˜åŒ–,å¾…éªŒè¯

éœ€è¦:
- â³ æ€§èƒ½æµ‹è¯•å’ŒåŸºå‡†æµ‹è¯•
- â³ å†…å­˜æ³„æ¼æ£€æµ‹
- â³ Bundle å¤§å°ä¼˜åŒ–
- â³ è¿è¡Œæ—¶æ€§èƒ½ä¼˜åŒ–éªŒè¯

## ğŸ“‹ ä¸‹ä¸€æ­¥è¡ŒåŠ¨è®¡åˆ’

### çŸ­æœŸ (ç«‹å³)

1. **è§£å†³ ESLint é—®é¢˜**
   ```bash
   # æ–¹æ¡ˆ: æš‚æ—¶åœ¨ ESLint é…ç½®ä¸­ç¦ç”¨æœ‰é—®é¢˜çš„è§„åˆ™
   ```

2. **éªŒè¯æ ¸å¿ƒåŒ…æ„å»º**
   ```bash
   pnpm --filter @ldesign/i18n-core run build
   pnpm --filter @ldesign/i18n-core run test
   ```

3. **ä¸º 2-3 ä¸ªä¸»è¦æ¡†æ¶(React, Vue, Next.js)å®ç°åŸºæœ¬åŠŸèƒ½**

### ä¸­æœŸ (æœ¬å‘¨)

1. **å®Œæˆæ‰€æœ‰æ¡†æ¶é€‚é…åŒ…çš„åŸºç¡€å®ç°**
2. **ç¼–å†™æ ¸å¿ƒæµ‹è¯•ç”¨ä¾‹**
3. **åˆ›å»º 1-2 ä¸ªç¤ºä¾‹é¡¹ç›®**
4. **éªŒè¯æ„å»ºæµç¨‹**

### é•¿æœŸ (åç»­)

1. **å®Œæˆæ‰€æœ‰æµ‹è¯•(å•å…ƒ, E2E, æ€§èƒ½)**
2. **åˆ›å»ºæ‰€æœ‰æ¡†æ¶çš„ç¤ºä¾‹é¡¹ç›®**
3. **æ€§èƒ½ä¼˜åŒ–å’ŒåŸºå‡†æµ‹è¯•**
4. **æ–‡æ¡£å®Œå–„å’Œå‘å¸ƒå‡†å¤‡**

## ğŸ”§ å‘½ä»¤å¿«é€Ÿå‚è€ƒ

```bash
# å®‰è£…ä¾èµ–
pnpm install

# æ„å»ºæ‰€æœ‰åŒ…
pnpm run build:all

# Lint æ‰€æœ‰åŒ…
pnpm run lint:all

# Lint å¹¶è‡ªåŠ¨ä¿®å¤
pnpm run lint:all:fix

# æ„å»ºå•ä¸ªåŒ…
pnpm --filter @ldesign/i18n-core run build

# æµ‹è¯•å•ä¸ªåŒ…
pnpm --filter @ldesign/i18n-core run test

# ç±»å‹æ£€æŸ¥
pnpm --filter @ldesign/i18n-core run type-check
```

## ğŸ“Š é¡¹ç›®ç»Ÿè®¡

- **æ€»åŒ…æ•°**: 15 ä¸ªæ¡†æ¶é€‚é…åŒ… + 1 ä¸ªæ ¸å¿ƒåŒ… = 16 ä¸ªåŒ…
- **ä»£ç è¡Œæ•°**: ~30,000+ (æ ¸å¿ƒåŒ…å·²æœ‰å®Œæ•´å®ç°)
- **é…ç½®æ–‡ä»¶**: æ‰€æœ‰åŒ…é…ç½®å®Œæˆ
- **å®Œæˆåº¦**: çº¦ 40% (æ¶æ„å’Œé…ç½®å®Œæˆ,å®ç°å’Œæµ‹è¯•è¿›è¡Œä¸­)

## ğŸ¯ æˆåŠŸæ ‡å‡†

é¡¹ç›®å®Œæˆæ—¶åº”æ»¡è¶³:

- âœ… æ‰€æœ‰åŒ…èƒ½æˆåŠŸæ„å»ºæ— é”™è¯¯
- âœ… ESLint æ£€æŸ¥å…¨éƒ¨é€šè¿‡
- âœ… TypeScript ç±»å‹æ£€æŸ¥å…¨éƒ¨é€šè¿‡
- âœ… æµ‹è¯•è¦†ç›–ç‡ â‰¥ 80%
- âœ… æ‰€æœ‰ç¤ºä¾‹é¡¹ç›®èƒ½æ­£å¸¸è¿è¡Œ
- âœ… æ–‡æ¡£å®Œæ•´æ¸…æ™°
- âœ… æ€§èƒ½è¾¾æ ‡(ç¬¦åˆé¢„è®¾çš„æ€§èƒ½é¢„ç®—)
- âœ… å†…å­˜æ— æ³„æ¼

## ğŸ’¡ æ³¨æ„äº‹é¡¹

1. **builder å’Œ launcher å·¥å…·è·¯å¾„**: éœ€è¦ç¡®è®¤è¿™äº›å·¥å…·çš„å®é™…ä½ç½®
2. **ESLint ç‰ˆæœ¬å…¼å®¹æ€§**: å½“å‰é…ç½®å¯èƒ½éœ€è¦è°ƒæ•´
3. **Peer Dependencies**: éœ€è¦æ¸…ç†å’Œè§£å†³å†²çª
4. **æ¡†æ¶ç‰ˆæœ¬**: ç¡®ä¿æ”¯æŒçš„æ¡†æ¶ç‰ˆæœ¬èŒƒå›´åˆç†
5. **æ–‡ä»¶å‘½å**: ä¿æŒä¸€è‡´çš„å‘½åè§„èŒƒ

## ğŸ“ æ›´æ–°æ—¥å¿—

- 2025-10-29: é¡¹ç›®åˆå§‹åŒ–,åˆ›å»ºæ‰€æœ‰åŒ…çš„åŸºç¡€ç»“æ„
- 2025-10-29: å®Œæˆ ESLint é…ç½®å’Œå·¥å…·è„šæœ¬
- 2025-10-29: åˆ›å»ºé¡¹ç›®æ–‡æ¡£å’ŒçŠ¶æ€è·Ÿè¸ª
